function loadObject(e,t,i){var a,n=t;processReqChange=function(){4==a.readyState&&200==a.status&&(document.getElementById(n).innerHTML=a.responseText)},document.getElementById(n).innerHTML=i,window.XMLHttpRequest?(a=new XMLHttpRequest,a.onreadystatechange=processReqChange,a.open("GET",e,!0),a.send(null)):window.ActiveXObject&&(a=new ActiveXObject("Microsoft.XMLHTTP"))&&(a.onreadystatechange=processReqChange,a.open("GET",e,!0),a.send())}function isInteger(e){var t;for(t=0;t<e.length;t++){var i=e.charAt(t);if(i<"0"||i>"9")return!1}return!0}function stripCharsInBag(e,t){var i,a="";for(i=0;i<e.length;i++){var n=e.charAt(i);-1==t.indexOf(n)&&(a+=n)}return a}function daysInFebruary(e){return e%4!=0||e%100==0&&e%400!=0?28:29}function DaysArray(e){for(var t=1;t<=e;t++)this[t]=31,4!=t&&6!=t&&9!=t&&11!=t||(this[t]=30),2==t&&(this[t]=29);return this}function parseDateTimeSelector(e){if(isDate($(".datepicker.mura-datepicker"+e).val())){var t=$(".datepicker.mura-datepicker"+e).val(),i=DaysArray(12),a=t.split(dtCh),n=a[dtFormat[0]],o=a[dtFormat[1]],r=a[dtFormat[2]],l=$("#mura-"+e+"Minute").length?$("#mura-"+e+"Minute").val():0,s=$("#mura-"+e+"Hour").length?$("#mura-"+e+"Hour").val():0;$("#mura-"+e+"DayPart").length&&("pm"==$("#mura-"+e+"DayPart").val().toLowerCase()?24==(s=parseInt(s)+12)&&(s=12):12==parseInt(s)&&(s=0)),1==s.length&&(s="0"+s),1==l.length&&(l="0"+l);var d="{ts '"+r+"-"+n+"-"+o+" "+s+":"+l+":00'}";$("#mura-"+e).val(d)}else $("#mura-"+e).val("")}function isDate(e){var t=DaysArray(12),i=e.split(dtCh);if(3!=i.length)return!1;var a=i[dtFormat[0]],n=i[dtFormat[1]],o=i[dtFormat[2]];strYr=o,"0"==n.charAt(0)&&n.length>1&&(n=n.substring(1)),"0"==a.charAt(0)&&a.length>1&&(a=a.substring(1));for(var r=1;r<=3;r++)"0"==strYr.charAt(0)&&strYr.length>1&&(strYr=strYr.substring(1));return month=parseInt(a),day=parseInt(n),year=parseInt(strYr),!(month<1||month>12)&&(!(day<1||day>31||2==month&&day>daysInFebruary(year)||day>t[month])&&(!(4!=o.length||0==year||year<minYear||year>maxYear)&&0!=isInteger(stripCharsInBag(e,dtCh))))}function isEmail(e){var t=e;return-1!=t.indexOf("@")&&-1!=t.indexOf(".")}function isColor(e){var t=0,i,a=e.replace(/ +/g,"").match(/(rgba?)|(\d+(\.\d+)?%?)|(\.\d+)/g);if(a&&a.length>3){for(;t<3;){if(i=a[++t],(i=-1!=i.indexOf("%")?Math.round(2.55*parseFloat(i)):parseInt(i))<0||i>255)return NaN;a[t]=i}if(0===e.indexOf("rgba")){if(void 0==a[4]||a[4]<0||a[4]>1)return NaN}else if(a[4])return NaN;return a[0]+"("+a.slice(1).join(",")+")"}return NaN}function isURL(e){return urlPattern=/(http|ftp|https):\/\/[\w-]+(\.[\w-]+)+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?/,e.match(urlPattern)}function stripe(e){$("table."+e+" tr").each(function(e){e%2?$(this).addClass("alt"):$(this).removeClass("alt")}),$("div.mura-grid."+e+" dl").each(function(e){e%2?$(this).addClass("alt"):$(this).removeClass("alt")})}function toggleDisplay(e,t,i){if("none"==document.getElementById(e).style.display){if(document.getElementById(e).style.display="",document.getElementById(e+"Link")){var a=document.getElementById(e+"Link");a.innerHTML="["+i+"]"}}else if(document.getElementById(e).style.display="none",document.getElementById(e+"Link")){var a=document.getElementById(e+"Link");a.innerHTML="["+t+"]"}}function openDisplay(e,t){if("none"==document.getElementById(e).style.display){if($("#"+e).slideDown(),"editAdditionalTitles"==e&&$("#alertTitleSuccess").hide(),document.getElementById(e+"Link")){document.getElementById(e+"Link").innerHTML="["+t+"]"}document.getElementById(e).style.display=""}}function toggleDisplay2(e,t){document.getElementById(e).style.display=1==t?"":"none"}function validate(e){return validateForm(e)}function getValidationFieldName(e){return void 0!=e.getAttribute("data-label")?e.getAttribute("data-label"):void 0!=e.getAttribute("label")?e.getAttribute("label"):e.getAttribute("name")}function getValidationIsRequired(e){return void 0!=e.getAttribute("data-required")?"true"==e.getAttribute("data-required").toLowerCase():void 0!=e.getAttribute("required")&&"true"==e.getAttribute("required").toLowerCase()}function getValidationMessage(e,t){return void 0!=e.getAttribute("data-message")?e.getAttribute("data-message")+"<br/>":void 0!=e.getAttribute("message")?e.getAttribute("message")+"<br/>":getValidationFieldName(e).toUpperCase()+t+"<br/>"}function getValidationType(e){return void 0!=e.getAttribute("data-validate")?e.getAttribute("data-validate").toUpperCase():void 0!=e.getAttribute("validate")?e.getAttribute("validate").toUpperCase():""}function hasValidationMatchField(e){return void 0!=e.getAttribute("data-matchfield")&&""!=e.getAttribute("data-matchfield")||void 0!=e.getAttribute("matchfield")&&""!=e.getAttribute("matchfield")}function getValidationMatchField(e){return void 0!=e.getAttribute("data-matchfield")?e.getAttribute("data-matchfield"):void 0!=e.getAttribute("matchfield")?e.getAttribute("matchfield"):""}function hasValidationRegex(e){return void 0!=e.value&&(void 0!=e.getAttribute("data-regex")&&""!=e.getAttribute("data-regex")||(void 0!=e.getAttribute("regex")&&""!=e.getAttribute("regex")||void 0))}function getValidationRegex(e){return void 0!=e.getAttribute("data-regex")?e.getAttribute("data-regex"):void 0!=e.getAttribute("regex")?e.getAttribute("regex"):""}function validateForm(e){var t="",i=0,a=!1,n,o,r="",l=e.getElementsByTagName("input");for(f=0;f<l.length;f++)if(theField=l[f],r=getValidationType(theField),""==theField.style.display)if(getValidationIsRequired(theField)&&""==theField.value)a||(a=!0,n=f,o="input"),t+=getValidationMessage(theField," is required.");else if(""!=r)if("EMAIL"!=r||""==theField.value||isEmail(theField.value))if("NUMERIC"==r&&""!=theField.value&&isNaN(theField.value))isNaN(theField.value.replace(/\$|\,|\%/g,""))?(a||(a=!0,n=f,o="input"),t+=getValidationMessage(theField," must be numeric.")):theField.value=theField.value.replace(/\$|\,|\%/g,"");else if("COLOR"==r&&""!=theField.value)isColor(theField.value)||(a||(a=!0,n=f,o="input"),t+=getValidationMessage(theField," is not a valid color."));else if("URL"==r&&""!=theField.value)isURL(theField.value)||(a||(a=!0,n=f,o="input"),t+=getValidationMessage(theField," is not a valid URL."));else if("REGEX"==r&&""!=theField.value&&hasValidationRegex(theField)){var s=new RegExp(getValidationRegex(theField));theField.value.match(s)||(a||(a=!0,n=f,o="input"),t+=getValidationMessage(theField," is not valid."))}else"MATCH"==r&&hasValidationMatchField(theField)&&theField.value!=e[getValidationMatchField(theField)].value?(a||(a=!0,n=f,o="input"),t+=getValidationMessage(theField," must match"+getValidationMatchField(theField)+".")):"DATE"!=r&&"DATETIME"!=r||""==theField.value||isDate(theField.value)||(a||(a=!0,n=f,o="input"),t+=getValidationMessage(theField," must be a valid date [MM/DD/YYYY]."));else a||(a=!0,n=f,o="input"),t+=getValidationMessage(theField," must be a valid email address.");var d=e.getElementsByTagName("textarea");for(f=0;f<d.length;f++)if(theField=d[f],r=getValidationType(theField),""==theField.style.display&&getValidationIsRequired(theField)&&""==theField.value)a||(a=!0,n=f,o="textarea"),t+=getValidationMessage(theField," is required.");else if(""!=r&&"REGEX"==r&&""!=theField.value&&hasValidationRegex(theField)){var s=new RegExp(getValidationRegex(theField));theField.value.match(s)||(a||(a=!0,n=f,o="input"),t+=getValidationMessage(theField," is not valid."))}var c=e.getElementsByTagName("select");for(f=0;f<c.length;f++)theField=c[f],r=getValidationType(theField),""==theField.style.display&&getValidationIsRequired(theField)&&""==theField.options[theField.selectedIndex].value&&(a||(a=!0,n=f,o="select"),t+=getValidationMessage(theField," is required."));return""==t||("input"==o?l[n].focus():"textarea"==o?d[n].focus():"select"==o&&c[n].focus(),$("#alertDialogMessage").html(t),$("#alertDialog").attr("title","Alert"),$("#alertDialog").dialog({resizable:!1,modal:!0,position:getDialogPosition(),buttons:{Ok:{click:function(){$(this).dialog("close"),"input"==o?l[n].focus():"textarea"==o?d[n].focus():"select"==o&&c[n].focus()},text:"OK",class:"mura-primary"}}}),!1)}function submitForm(e,t,i){var a=i,n=e;if(validateForm(e)){if(void 0!==t&&"delete"!=t){var o=e.getElementsByTagName("input");for(f=0;f<o.length;f++)"action"==o[f].getAttribute("name")&&o[f].setAttribute("value",t)}else if("delete"==t)return $("#alertDialogMessage").html(a),$("#alertDialog").dialog({modal:!0,position:getDialogPosition(),resizable:!1,dialogClass:"dialog-warning",width:400,buttons:{Yes:{click:function(){$(this).dialog("close");var e=n.getElementsByTagName("input");for(f=0;f<e.length;f++)"action"==e[f].getAttribute("name")&&e[f].setAttribute("value",t);n.submit()},text:"Yes",class:"mura-primary"},No:function(){$(this).dialog("close")}}}),!1;if("undefined"!=typeof htmlEditorType&&"fckeditor"!=htmlEditorType)for(var r in CKEDITOR.instances)void 0!==CKEDITOR.instances[r]&&null!=CKEDITOR.instances[r]&&$("#"+r).length&&CKEDITOR.instances[r].updateElement();actionModal(function(){e.submit(),formSubmitted=!0})}return!1}function actionModal(e){return $("body").append('<div id="action-modal" class="modal-backdrop fade in"></div>'),$("#action-modal").spin(spinnerArgs),e&&("string"==typeof e?location.href=e:e()),!1}function preview(e,t){return newWindow=""==t?window.open(e,"previewWin"):window.open(e,"previewWin",t),!newWindow||newWindow.closed||void 0===newWindow.closed?(alertDialog("pop-up window has been blocked for this site,Disable blocking pop-up windows to see the Site Preview"),!1):(newWindow.focus(),!1)}function createCookie(e,t,i){if(i){var a=new Date;a.setTime(a.getTime()+24*i*60*60*1e3);var n="; expires="+a.toGMTString()}else var n="";"undefined"!=typeof location&&"https:"==location.protocol?secure="; secure":secure="",document.cookie=e+"="+t+n+"; path=/"+secure}function readCookie(e){for(var t=e+"=",i=document.cookie.split(";"),a=0;a<i.length;a++){for(var n=i[a];" "==n.charAt(0);)n=n.substring(1,n.length);if(0==n.indexOf(t))return unescape(n.substring(t.length,n.length))}return""}function eraseCookie(e){createCookie(e,"",-1)}function setHTMLEditors(){var e=document.getElementsByTagName("textarea"),t=new Array;for(i=0;i<e.length;i++)if("htmlEditor"==e[i].className){var a=CKEDITOR.instances[e[i].id];void 0!==a&&null!=a&&CKEDITOR.remove(a),""==$(document.getElementById(e[i].id)).val()&&$(document.getElementById(e[i].id)).val("<p></p>");var n=e[i].getAttribute("data-toolbar")||"Default";$(document.getElementById(e[i].id)).ckeditor({toolbar:n,customConfig:"config.js.cfm"},htmlEditorOnComplete)}}function htmlEditorOnComplete(e){var t=$(e).ckeditorGet();t.resetDirty();var i=CKEDITOR.instances;"undefined"!=typeof CKFinder&&CKFinder.setupCKEditor(t,{basePath:context+"/requirements/ckfinder/",rememberLastFolder:!0}),HTMLEditorLoadCount++;var a=0;for(k in i)a++;try{document.getElementById("actionButtons").style.display=HTMLEditorLoadCount>=a?"block":"none"}catch(e){}}function setDatePickers(e,t,i){if(void 0==$.datepicker.regional[t])var a=t.substring(0,2);else var a=t;void 0!=$.datepicker.regional[a]?$(e).each(function(e){$(this).datepicker($.datepicker.regional[a]).datepicker("option","changeYear",!0).datepicker("option","changeMonth",!0)}):$(e).each(function(e){$(this).datepicker($.datepicker.regional[""]).datepicker("option","changeYear",!0).datepicker("option","changeMonth",!0)})}function setColorPickers(e){$(e).each(function(e){$(this).colorpicker({format:"rgba"}).on("changeColor",function(e){var t=e.color.toRGB();$(this).val("rgba("+t.r+","+t.g+","+t.b+","+t.a+")")})})}function setToolTips(e){"function"==typeof $(e).tooltip&&$(e).tooltip({selector:"a[rel=tooltip]"}),$(e+" a[rel=tooltip]").click(function(e){return e.preventDefault(),!1}),$(e+' [data-toggle="popover"]').popover("destroy").popover({trigger:"hover",html:!0})}function setTabs(e,t){if($(".tab-preloader").spin(spinnerArgs2),$(e+" a").click(function(e){e.preventDefault(),$(this).tab("show")}),""!=window.location.hash)$(e+' a[href="'+window.location.hash+'"]').tab("show"),window.setTimeout(function(){$("a span.display-tab").html('<i class="mi-chevron-down"></i>')},1);else if(void 0!==t)try{$(e+" li::nth-child("+(t+1)+") a").tab("show")}catch(t){$(e+" li:first a").tab&&$(e+" li:first a").tab("show")}else $(e+" li:first a").tab("show");$(".tab-preloader").hide().spin(!1)}function setAccordions(e,t){$(e).each(function(e){null!=t?$(this).accordion({active:t}):$(this).accordion()})}function setCheckboxTrees(){$(".checkboxTree").each(function(){$(this).collapsibleCheckboxTree({checkParents:!1,checkChildren:!1,uncheckChildren:!0,initialState:"default"})})}function openFileMetaData(e,t,i,a){"undefined"==typeof fileMetaDataAssign&&(fileMetaDataAssign={}),$("#newFileMetaContainer").remove(),$("body").append('<div id="newFileMetaContainer" title="Loading..." style="display:none"><div id="newFileMeta"><div class="load-inline"></div></div></div>');var n=$.ui.dialog.prototype._focusTabbable;return $.ui.dialog.prototype._focusTabbable=function(){},$("#newFileMetaContainer").dialog({resizable:!1,modal:!0,width:600,title:"Edit Image Properties",position:getDialogPosition(),buttons:{Cancel:function(){$(this).dialog("close")},Save:{click:function(){var e={exifpartial:{}};$(".filemeta").each(function(){e[$(this).attr("data-property")]=$(this).val()}),$(".exif").each(function(){e.exifpartial[$(this).attr("data-property")]=$(this).val()}),e.setasdefault=$("#filemeta-setasdefault").is(":checked"),fileMetaDataAssign[a]=e,$("#filemetadataassign").val(JSON.stringify(fileMetaDataAssign)),$(this).dialog("close")},text:"Save",class:"mura-primary"}},open:function(){$(".ui-widget-overlay").css("z-index",500),$(".ui-dialog").css("z-index",501),$("#newFileMetaContainer").html('<div class="ui-dialog-content ui-widget-content"><div class="load-inline"></div></div>');var n="muraAction=cArch.loadfilemetadata&fileid="+t+"&property="+a+"&contenthistid="+e+"&siteid="+i+"&cacheid="+Math.random();$("#newFileMetaContainer .load-inline").spin(spinnerArgs2),Mura.get("index.cfm?"+n).then(function(e){if(-1!=e.indexOf("mura-primary-login-token")&&(location.href="./"),$("#newFileMetaContainer .load-inline").spin(!1),$("#newFileMetaContainer").html(e),a in fileMetaDataAssign){var t=fileMetaDataAssign[a];for(var i in t)$('.filemeta[data-property="'+i+'"]').val(t[i]);$("#filemeta-setasdefault").prop("checked",t.setasdefault)}$("#newFileMetaContainer .htmlEditor").ckeditor({toolbar:"Basic",height:100,customConfig:"config.js.cfm"},htmlEditorOnComplete),setTabs("#newFileMetaContainer.tabs",0),setDatePickers(".datepicker",dtLocale),$("#newFileMetaContainer").dialog("option","position",getDialogPosition()),$(".filemeta:first").focus()},function(e){$("#newFileMetaContainer").html(e.responseText),$("#newFileMetaContainer").dialog("option","position",getDialogPosition())})},close:function(){$(this).dialog("destroy"),$("#newFileMetaContainer").remove(),$.ui.dialog.prototype._focusTabbable=n}}),!1}function setFileSelectors(){$(".mura-file-selector").fileselector()}function alertDialog(e,t,i,a,n){var a=a||450;if("object"==typeof e){var o=e;e=o.message||"Message not defined",t=o.okAction||function(){},i=o.title||"Alert",a=o.width||0}i=i||"Alert",n=n||"dialog-warning";var r={dialogClass:n,resizable:!1,modal:!0,position:getDialogPosition(),buttons:{Ok:{click:function(){$(this).dialog("close"),t&&("function"==typeof t?t():"string"==typeof t&&""!=t&&actionModal(t))},text:"OK",class:"mura-primary"}}};return a&&(r.width=a),$("#alertDialog").attr("title",i),$("#alertDialogMessage").html(e),$("#alertDialog").dialog(r),!1}function confirmDialog(e,t,i,a,n,o,r,l){var n=n||450;if("object"==typeof e){var s=e;e=s.message||"Message not defined",s.yesAction&&(t=s.yesAction),s.noAction&&(i=s.noAction),a=s.title||"Alert",n=s.width||0}a=a||"Alert",o=o||"OK",r=r||"Cancel",l=l||"dialog-confirm";var d={dialogClass:l,resizable:!1,modal:!0,position:getDialogPosition(),buttons:{No:{click:function(){void 0!==i&&""!=i?"function"==typeof i?i():actionModal(i):$(this).dialog("destroy")},text:r,class:"mura-cancel"},Yes:{click:function(){$(this).dialog("close"),"function"==typeof t?t():""!=t&&actionModal(t)},text:o,class:"mura-primary"}},close:function(e,t){$(this).dialog("destroy")}};return n&&(d.width=n),$("#alertDialog").attr("title",a),$("#alertDialogMessage").html(e),$("#alertDialog").dialog(d),!1}function CountDown(){var e=new Date;e=Date.parse(e)/1e3;var t=parseInt(sessionTimeout-(e-start),10),i=Math.floor(t/3600),a=Math.floor((t-3600*i)/60),n=t-(3600*i+60*a);a=a<=9?"0"+a:a,n=n<=9?"0"+n:n,void 0!=document.getElementById("clock").innerHTML&&(document.getElementById("clock").innerHTML=i+":"+a+":"+n),t>0?timerID=setTimeout("CountDown()",100):void 0!=document.getElementById("clock").innerHTML&&(document.getElementById("clock").innerHTML="0:0:0")}function fileManagerPopUp(){var e=new CKFinder;return e.basePath=context+"/requirements/ckfinder/",e.resourceType="[Advanced] Mura Root",e.popup(),!1}function fileManagerCreate(){var e=new CKFinder;return e.basePath=context+"/requirements/ckfinder/",e.create(),!1}function loadjscssfile(e,t){if("js"==t){var i=document.createElement("script");i.setAttribute("type","text/javascript"),i.setAttribute("src",e)}else if("css"==t){var i=document.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("href",e)}void 0!==i&&document.getElementsByTagName("head")[0].appendChild(i)}function getDialogPosition(){return{my:"center",at:"center",of:window,collision:"fit"}}function openPreviewDialog(e){var t=e;t=-1==t.indexOf("?")?e+"?muraadminpreview":e+"&muraadminpreview";var i=["top",20],a=$('<div id="mura-preview-container"></div>').html('<iframe id="preview-dialog" style="border: 0; background:#fff;" src="'+t+'&mobileFormat=false" width="1075" height="600" allowfullscreen></iframe>').dialog({width:1105,height:600,modal:!0,title:"Preview",position:i,resize:function(e,t){$("#preview-dialog").attr("width",t.size.width-25)},close:function(){$(a).dialog("destroy"),$("#mura-preview-container").remove(),$("#mura-preview-device-selector").remove()},open:function(){var e='<div id="mura-preview-device-selector"><p>Preview Mode</p>';e+='<a class="mura-device-standard active" data-height="600" data-width="1075" data-mobileformat="false"><i class="mi-desktop"></i></a>',e+='<a class="mura-device-tablet" data-height="600" data-width="768" data-mobileformat="false"><i class="mi-tablet"></i></a>',e+='<a class="mura-device-tablet-landscape" data-height="480" data-width="1024" data-mobileformat="false"><i class="mi-tablet mi-rotate-270"></i></a>',e+='<a class="mura-device-phone" data-height="480" data-width="320" data-mobileformat="true"><i class="mi-mobile-phone"></i></a>',e+='<a class="mura-device-phone-landscape" data-height="250" data-width="520" data-mobileformat="true"><i class="mi-mobile-phone mi-rotate-270"></i></a>',e+="</div>";var n=30,o=124;$(".ui-dialog").prepend(e),$("#mura-preview-device-selector a").bind("click",function(){var e=$(this).data();return $(a).dialog("option","width",e.width+30),$(a).dialog("option","height",e.height+124),$("#preview-dialog").attr("width",e.width).attr("height",e.height).attr("src",t+"&mobileFormat="+e.mobileformat),$(a).dialog("option","position",i),$("#mura-preview-device-selector a").removeClass("active"),$(this).addClass("active"),!1})}});return!1}function preloadimages(e){for(var t=[],e="object"!=typeof e?[e]:e,i=0;i<e.length;i++)t[i]=new Image,t[i].src=e[i]}function removePunctuation(e){$(e).val($(e).val().replace(/[^\w\s-]|/g,"").replace(/\s+/g,""))}function setLowerCaseKeys(e){for(var t=Object.keys(e),i=t.length;i--;){var a=t[i];a!==a.toLowerCase()&&(e[a.toLowerCase()]=e[a],delete e[a]),"object"==typeof e[a.toLowerCase()]&&setLowerCaseKeys(e[a.toLowerCase()])}return e}function setFinders(e){"undefined"!=typeof CKFinder&&$(e).unbind("click").on("click",function(){var e=$(this).attr("data-target"),t=new CKFinder;t.basePath=context+"/requirements/ckfinder/","true"==$(this).attr("data-completepath").toLowerCase()?t.selectActionFunction=function(t){var i=jQuery('input[name="'+e+'"]');i.val(webroot+fileDelim+t),i.trigger("change")}:t.selectActionFunction=function(t){var i=jQuery('input[name="'+e+'"]');i.val(t),i.trigger("change")},"root"==$(this).attr("data-resourcetype")?t.resourceType="Application_Root":"site"==$(this).attr("data-resourcetype")?t.resourceType=siteid+"_Site_Files":t.resourceType=siteid+"_User_Assets",t.popup()})}function wireupExterndalUIWidgets(){setFinders(".mura-ckfinder"),"undefined"!=typeof dtLocale&&setDatePickers(".datepicker",dtLocale),"undefined"!=typeof activetab&&setTabs(".mura-tabs",activetab),setHTMLEditors(),"undefined"!=typeof activepanel&&setAccordions(".accordion",activepanel),setCheckboxTrees(),setColorPickers(".colorpicker"),setToolTips(".container"),setFileSelectors()}function showTableControls(e){var t=$(e).next(".actions-menu");$("td.actions div.actions-menu").not(".hide").addClass("hide"),$(t).removeClass("hide")}var dtCh="/",minYear=1800,maxYear=2200,dtFormat=[0,1,2],dtExample="12/31/2016";newWindow=null;var HTMLEditorLoadCount=0;!function($){var e=function(e,t){var i=this.$element=$(e),a=this.options=$.extend({},$.fn.fileselector.defaults,t);$(this.$element).attr("data-name")&&(this.options.file=this.$element.attr("data-name"));var n=function(e){var t="muraAction=cArch.assocfiles&compactDisplay=true&siteid="+i.attr("data-siteid")+"&fileid="+i.attr("data-fileid")+"&type="+i.attr("data-filetype")+"&contentid="+i.attr("data-contentid")+"&property="+i.attr("data-property")+"&keywords="+e+"&cacheid="+Math.random();i.find(".mura-file-existing").html('<div class="load-inline"></div>'),i.find(".load-inline").spin(spinnerArgs2),$.ajax("index.cfm?"+t).done(function(e){i.find(".load-inline").spin(!1),i.find(".mura-file-existing").html(e),i.find(".mura-file-existing").find(".btn").click(function(){n(i.find(".mura-file-existing").find(".filesearch").val())}),setTabs("#selectAssocImageResults-"+i.attr("data-property"),0)}).error(function(e){i.find(".load-inline").spin(!1),i.find(".mura-file-existing").html(e.responseText)})},o=function(){r($(this).val()),"existing"==$(this).val().toLowerCase()?n(""):(i.find(".mura-file-existing").html('<div class="load-inline"></div>'),i.find(".load-inline").spin(spinnerArgs2)),$(this).hasClass("btn")&&$(this).addClass("active").siblings().removeClass("active")},r=function(e){i.find(".mura-file-option").find("input").val(""),i.find(".mura-file-option").find(".btn").hide(),i.find(".mura-file-option").hide(),i.find(".mura-file-"+e.toLowerCase()).show(),i.find(".mura-file-option").find("input").attr("name",""),i.find(".mura-file-"+e.toLowerCase()).find("input").attr("name",a.file)};$(this.$element).find("button.mura-file-type-selector").click(o),i.find(".mura-file-option").find("input").change(function(){var e=/^(([a-zA-Z]:)|(\\{2}\w+)\$?)(\\(\w[\w].*))+(.jpg|.jpeg|.png|.gif|.svg)$/,t=/(http(s?):)|([\/|.|\w|\s])*\.(?:jpg|jpeg|gif|png|svg)/;e.test($(this).val().toLowerCase())||t.test($(this).val().toLowerCase())?$(this).parent().find(".file-meta-open").show():$(this).parent().find(".file-meta-open").hide()}),r("Upload")};$.fn.fileselector=function(t){return this.each(function(){var i=$(this),a=i.data("fileselector");a||i.data("fileselector",a=new e(this,t))})},$.fn.fileselector.defaults={file:"newfile"},$.fn.fileselector.Constructor=e}(window.jQuery);var start=new Date;start=Date.parse(start)/1e3;var sessionTimeout=10800,spinnerArgs={lines:17,length:7,width:4,radius:13,corners:1,rotate:0,color:"#696969",speed:.9,trail:60,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2e9,top:"auto",left:"auto"},spinnerArgs2={lines:17,length:7,width:4,radius:13,corners:1,rotate:0,color:"#696969",speed:.9,trail:60,shadow:!1,hwaccel:!1,className:"spinner-alt",zIndex:2e9,top:"auto",left:"auto",position:"relative"},spinnerArgs3={lines:17,length:7,width:4,radius:13,corners:1,rotate:0,color:"#696969",speed:.9,trail:60,shadow:!1,hwaccel:!1,className:"spinner-alt",zIndex:2e9,top:"auto",left:"auto",position:"relative"};void 0!==$.ui&&($.widget("custom.muraSiteSelector",$.ui.autocomplete,{_suggest:function(e){var t=this.element.closest("ul");t.children("li").remove(),this._renderMenu(t,e),this.isNewMenu=!0,this.menu.refresh(),t.show(),this._resizeMenu(),this.options.autoFocus&&this.menu.next()},_renderItem:function(e,t){return $("<li>").append($("<a>").attr("href","?muraAction=cDashboard.main&siteID="+t.id).append($("<i>").addClass("mi-globe")).append(t.label)).appendTo(e)},options:{create:function(e){$(e.target).keyup(function(e,t){var i=$(this);if(i.val().length<$(this).data("customMuraSiteSelector").option("minLength")){i.closest("ul").children("li").remove()}})}}}),$(function(){$('input[name="site-search"]').muraSiteSelector({source:function(e,t){$.ajax({url:"./index.cfm?muraAction=cnav.searchsitedata",dataType:"json",method:"POST",data:{searchString:e.term},success:function(e){return t(e)}})},minLength:2})})),$(function(){wireupExterndalUIWidgets()});